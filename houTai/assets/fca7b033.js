import{n as c,r as i,o as V,a as r,q,b as m,l as v,w as o,e as a,d as D,x as N,j as F}from"./0ae629d1.js";function R(d){return c({url:"/admin/nav.config/find",method:"get",params:d})}function S(d){return c({url:"/admin/nav.config/add",method:"post",data:d})}const j={__name:"BasicSetting",setup(d){const f={name:{required:!0,message:"请输入网站名称",trigger:"blur"}},p=i(null),e=i({title:"",name:"",description:"",keywords:"",logo:"",motto:"",footer:""});V(()=>{_()});const _=()=>{R().then(n=>{e.value=n.data[0]})},g=n=>{e.value.logo=n.url},b=()=>{p.value.validate(n=>{n?$message.error("验证失败，请填写完整信息"):y()})},y=()=>{S(e.value).then(n=>{$message.success(n.message)})};return(n,t)=>{const u=r("n-input"),s=r("n-form-item-gi"),h=r("n-avatar"),x=r("upload-image"),w=r("n-grid"),k=r("n-button"),U=r("n-space"),B=r("n-form"),C=q("permission");return m(),v(B,{"label-width":80,model:e.value,rules:f,ref_key:"formRef",ref:p},{default:o(()=>[a(w,{cols:24,"x-gap":30},{default:o(()=>[a(s,{span:12,label:"网站名称",path:"name"},{default:o(()=>[a(u,{value:e.value.name,"onUpdate:value":t[0]||(t[0]=l=>e.value.name=l),placeholder:"请输入网站名称"},null,8,["value"])]),_:1}),a(s,{span:12,label:"网站标题",path:"title"},{default:o(()=>[a(u,{value:e.value.title,"onUpdate:value":t[1]||(t[1]=l=>e.value.title=l),placeholder:"请输入网站标题"},null,8,["value"])]),_:1}),a(s,{span:12,label:"网站描述",path:"description"},{default:o(()=>[a(u,{placeholder:"请输入网站描述",type:"textarea",value:e.value.description,"onUpdate:value":t[2]||(t[2]=l=>e.value.description=l)},null,8,["value"])]),_:1}),a(s,{span:12,label:"网站关键字",path:"keywords"},{default:o(()=>[a(u,{placeholder:"请输入网站关键字",type:"textarea",value:e.value.keywords,"onUpdate:value":t[3]||(t[3]=l=>e.value.keywords=l)},null,8,["value"])]),_:1}),a(s,{span:12,label:"一言",path:"motto"},{default:o(()=>[a(u,{value:e.value.motto,"onUpdate:value":t[4]||(t[4]=l=>e.value.motto=l),type:"textarea",placeholder:"请输入一言"},null,8,["value"])]),_:1}),a(s,{span:12,label:"网站Footer",path:"footer"},{default:o(()=>[a(u,{value:e.value.footer,"onUpdate:value":t[5]||(t[5]=l=>e.value.footer=l),type:"textarea",placeholder:"请输入网站footer"},null,8,["value"])]),_:1}),a(s,{span:24,label:"网站logo",path:"logo"},{default:o(()=>[a(x,{data:{},"onUpdate:images":g},{default:o(()=>[a(h,{class:"cursor-pointer",size:100,src:e.value.logo},null,8,["src"])]),_:1})]),_:1})]),_:1}),D("div",null,[a(U,null,{default:o(()=>[N((m(),v(k,{type:"primary",onClick:b},{default:o(()=>[F("更新基本信息")]),_:1})),[[C,{action:"nweb:save"}]])]),_:1})])]),_:1},8,["model"])}}};export{j as default};
//# sourceMappingURL=fca7b033.js.map

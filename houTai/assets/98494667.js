import{_ as H,u as J,h as K,r as U,a as s,c as O,e,w as t,b as Q,d as n,f as r,s as R,j as v,t as h,v as X,p as Y,g as Z}from"./0ae629d1.js";import{_ as ee,u as te}from"./a32981b8.js";const u=d=>(Y("data-v-77563bf6"),d=d(),Z(),d),se={class:"userInfo-contanier p-3"},ne={class:"avatar-content mt-5 mb-5"},ae={class:"info-content"},oe={class:"item flex justify-between"},le={class:"item-icon flex items-center justify-center mb-2"},ie=u(()=>n("span",{class:"ml-2"},"登录账号",-1)),ce={class:"item-text"},_e={class:"item flex justify-between"},re={class:"item-icon flex items-center justify-center mb-2"},de=u(()=>n("span",{class:"ml-2"},"昵称",-1)),me={class:"item-text"},ue={class:"item flex justify-between"},pe={class:"item-icon flex items-center justify-center mb-2"},fe=u(()=>n("span",{class:"ml-2"},"用户邮箱",-1)),ve={class:"item-text"},he={class:"item flex justify-between"},be={class:"item-icon flex items-center justify-center mb-2"},ge=u(()=>n("span",{class:"ml-2"},"安全设置",-1)),xe={class:"item-text"},ye={__name:"userInfo",setup(d){var x,y,k;const o=J(),l=K({id:(x=o.user)==null?void 0:x.id,nick_name:(y=o.user)==null?void 0:y.nick_name,email:(k=o.user)==null?void 0:k.email}),q={nick_name:[{required:!0,message:"请输入用昵称！",trigger:["input","blur"]}],email:[{required:!0,message:"邮箱格式不正确！",trigger:["input","blur"],validator:(i,a)=>X(a)}]},b=U(null),B=()=>{var i;(i=b.value)==null||i.passShow(l.id)},g=U(null),E=()=>{var i;(i=g.value)==null||i.validate(a=>{a?console.log(a):(console.log("suc"),te(l).then(c=>{$message.success(c.message)}))})};return(i,a)=>{const c=s("n-divider"),N=s("n-avatar"),p=s("n-button"),V=s("n-upload"),D=s("n-space"),F=s("Person"),m=s("n-icon"),L=s("PersonSharp"),M=s("Mail"),W=s("LockClosed"),w=s("n-card"),j=s("n-grid-item"),z=s("n-input"),f=s("n-form-item"),$=s("n-form"),T=s("n-tab-pane"),A=s("n-tabs"),G=s("n-grid");return Q(),O("div",se,[e(G,{"x-gap":"12",cols:"1 s:1 m:1 l:7 xl:7 2xl:7",responsive:"screen"},{default:t(()=>[e(j,{span:2},{default:t(()=>[e(w,{class:"border-rd",bordered:!1,title:"个人信息",hoverable:""},{default:t(()=>{var _,I,S;return[e(c,{style:{"margin-top":"0 !important"}}),n("div",ne,[e(D,{vertical:"",align:"center"},{default:t(()=>{var C,P;return[e(N,{round:"",size:100,src:(C=r(o).user)==null?void 0:C.avatar_path},null,8,["src"]),e(V,{action:r(R).user_upload_avatar,data:{userId:(P=r(o).user)==null?void 0:P.id},"show-file-list":!1},{default:t(()=>[e(p,{type:"primary",size:"small"},{default:t(()=>[v(" 更换头像 ")]),_:1})]),_:1},8,["action","data"])]}),_:1})]),n("div",ae,[n("div",oe,[n("div",le,[e(m,{size:"20"},{default:t(()=>[e(F)]),_:1}),ie]),n("div",ce,h((_=r(o).user)==null?void 0:_.username),1)]),e(c),n("div",_e,[n("div",re,[e(m,{size:"20"},{default:t(()=>[e(L)]),_:1}),de]),n("div",me,h((I=r(o).user)==null?void 0:I.nick_name),1)]),e(c),n("div",ue,[n("div",pe,[e(m,{size:"20"},{default:t(()=>[e(M)]),_:1}),fe]),n("div",ve,h((S=r(o).user)==null?void 0:S.email),1)]),e(c),n("div",he,[n("div",be,[e(m,{size:"20"},{default:t(()=>[e(W)]),_:1}),ge]),n("div",xe,[e(p,{type:"primary",size:"small",text:"",onClick:B},{default:t(()=>[v(" 修改密码 ")]),_:1})])]),e(c)])]}),_:1})]),_:1}),e(j,{span:5},{default:t(()=>[e(w,{bordered:!1,hoverable:""},{default:t(()=>[e(A,{type:"line",size:"large","tabs-padding":20,"pane-style":"padding: 20px;"},{default:t(()=>[e(T,{name:"用户信息"},{default:t(()=>[e($,{ref_key:"userForm",ref:g,"label-placement":"left","label-width":80,model:l,rules:q,"show-require-mark":!0},{default:t(()=>[e(f,{label:"昵称",path:"nick_name"},{default:t(()=>[e(z,{value:l.nick_name,"onUpdate:value":a[0]||(a[0]=_=>l.nick_name=_),placeholder:"请输入昵称..."},null,8,["value"])]),_:1}),e(f,{label:"邮箱",path:"email"},{default:t(()=>[e(z,{value:l.email,"onUpdate:value":a[1]||(a[1]=_=>l.email=_),placeholder:"请输入邮箱..."},null,8,["value"])]),_:1}),e(f,null,{default:t(()=>[e(p,{class:"ml-10",type:"primary",size:"small",onClick:E},{default:t(()=>[v(" 保存信息 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(ee,{ref_key:"passWord",ref:b},null,512)])}}},je=H(ye,[["__scopeId","data-v-77563bf6"]]);export{je as default};
//# sourceMappingURL=98494667.js.map
